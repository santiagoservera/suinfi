<app-navbar-comp></app-navbar-comp>
<div *ngIf="isLoading" class="w-full h-screen items-center flex justify-center">
  <app-loader></app-loader>
</div>
<div class="w-full h-full min-h-screen" >
  <div class="lg:w-full lg:flex lg:flex-row h-full ">
    <div class=" lg:w-[30%] h-full flex items-center " *ngIf="articlesList().length >= 1 ">
      <aside class="text-white bg-[#37133E] min-h-screen  h-full w-full my-auto">
        <div class="py-10 px-7 h-full">
          <h1 class="text-xl font-semibold" *ngIf="articlesList().length >= 1">
            BUSQUEDAS RELACIONADAS:
          </h1>
        </div>
        <div *ngIf="articlesList().length >= 1 " class="h-full px-7">
          <div class="flex flex-row gap-3" > <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="#ffffff" d="m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5q0-2.725 1.888-4.612T9.5 3q2.725 0 4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5q0-1.875-1.312-3.187T9.5 5Q7.625 5 6.313 6.313T5 9.5q0 1.875 1.313 3.188T9.5 14"/></svg>BUSQUEDA</div>
          <div class="lg:pt-10" *ngIf="articlesList().length >= 1">
            <div class="flex flex-row gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="#ffffff" d="M3 18v-2h18v2zm0-5v-2h18v2zm0-5V6h18v2z"/></svg>FILTROS</div>
          </div>
        </div>
      </aside>
    </div>

    <!-- Card de productos a iterar -->
    
    <div
      class="w-full h-full bgSearch p-7"
      *ngIf="!isLoading && articlesList() && articlesList().length > 0"
    >
      @for (article of articlesList(); track $index) {
      <div
        class="bg-white lg:h-[300px] lg:w-full rounded-lg shadow-[0px_4px_4px_0px_#00000040] border border-[#0000004D] lg:mt-5"
      >
      
        <div class="lg:w-full lg:flex lg:flex-row lg:py-5">
          <div class="lg:w-[25%] lg:px-5 lg:h-full">
            @for (articleImg of article.imagen; track $index) { @if(article.id
            === articleImg.id){

            <img
              src="{{ articleImg.imagenNew }}"
              alt="img article"
              class="bg-violet-400 w-full h-full"
            />

            } }
          </div>

          <div class="lg:h-full lg:w-full lg:flex lg:flex-col ">
            <div class="flex flex-col gap-10 pt-10 pb-5 ">
              <p class="text-2xl font-semibold uppercase">{{ article.nombre }}</p>
              <p class="text-2xl font-normal flex flex-row text-start">
                <td>$</td>
                {{ article.precio }}
              </p>                                
          </div>
          <div class="w-full flex justify-end pr-10">
            <button class="w-[150px] text-center border-black border p-3 rounded-3xl font-bold">
              VER
            </button>
          </div>
        </div>

              
       

            


         
          

        </div>
     
      </div>
      }
    </div>
  </div>
  <div
    *ngIf="!isLoading && (!articlesList() || articlesList().length === 0)"
    class="container-width-ecommerce lg:w-full text-center bg-white shadow-lg rounded-lg lg:flex lg:justify-between"
  >
    <div class="lg:w-[100%] flex flex-row py-10 px-5">
      <div class="w-[30%]">
        <img
          src="../../../../assets/images/noResultsEcommerce.jpg"
          alt="No Results img"
          class="w-[300px] h-[300px]"
        />
      </div>
      <div class="">
        <h1 class="lg:font-bold lg:text-2xl">
          No hay publicaciones que coincidan con tu busqueda
        </h1>
        <p class="text-lg font-semibold">
          * Revisá la ortografía de la palabra
        </p>
        <p class="text-lg font-semibold">
          * Utilizá palabras más genéricas o menos palabras.
        </p>
      </div>

      <p></p>
    </div>
  </div>
</div>
